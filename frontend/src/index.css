@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== THEME COLORS & GRADIENTS (CUSTOMER PAGES ONLY) ===== */
.customer-theme {
  /* Light Theme Colors */
  --bg-primary: #ffffff;
  --bg-secondary: #f8fafc;
  --text-primary: #1f2937;
  --text-secondary: #6b7280;
  --border-color: #e5e7eb;
  
  /* Brand Gradients */
  --gradient-brand: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 50%, #06b6d4 100%);
  --gradient-accent: linear-gradient(135deg, #f59e0b 0%, #ef4444 50%, #8b5cf6 100%);
  --gradient-hero: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --gradient-card: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
}

.customer-theme[data-theme="dark"] {
  /* Dark Theme Colors */
  --bg-primary: #111827;
  --bg-secondary: #1f2937;
  --text-primary: #f9fafb;
  --text-secondary: #d1d5db;
  --border-color: #374151;
  
  /* Dark Theme Gradients */
  --gradient-brand: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 50%, #06b6d4 100%);
  --gradient-accent: linear-gradient(135deg, #f59e0b 0%, #ef4444 50%, #8b5cf6 100%);
  --gradient-hero: linear-gradient(135deg, #1f2937 0%, #111827 100%);
  --gradient-card: linear-gradient(135deg, #1f2937 0%, #111827 100%);
}

/* ===== GLOBAL BASE STYLES ===== */
@layer base {
  * {
    @apply border-gray-200;
  }
  
  /* Prevent theme flash by hiding content until theme is initialized */
  html:not([data-theme-initialized]) {
    visibility: hidden;
  }
  
  html[data-theme-initialized] {
    visibility: visible;
  }
  
  body {
    font-feature-settings: "rlig" 1, "calt" 1;
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  
  /* Apply theme-aware styles only to customer pages */
  .customer-theme body {
    background-color: var(--bg-primary);
    color: var(--text-primary);
  }
  
  html {
    scroll-behavior: smooth;
  }
  
  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-gray-100;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }
}

/* ===== COMPONENT STYLES ===== */
@layer components {
  /* Button Components */
  .btn-brand {
    @apply bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105 active:scale-95;
  }
  
  .btn-accent {
    /* Unified with brand buttons for consistent color across the app */
    @apply bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105 active:scale-95;
  }
  
  .btn-outline {
    @apply bg-transparent border-2 border-purple-600 text-purple-600 px-6 py-3 rounded-xl font-semibold transition-all duration-200 transform hover:scale-105 active:scale-95;
  }
  
  .customer-theme[data-theme="dark"] .btn-outline {
    @apply hover:bg-purple-900/20;
  }
  
  .customer-theme .btn-outline:not([data-theme="dark"] *) {
    @apply hover:bg-purple-50;
  }
  
  .customer-theme .btn-ghost {
    @apply text-gray-600 hover:text-purple-600 px-4 py-2 rounded-full font-medium transition-colors duration-200;
  }
  
  .customer-theme[data-theme="dark"] .btn-ghost {
    @apply text-gray-300;
  }
  
  .customer-theme[data-theme="dark"] .btn-ghost {
    @apply hover:bg-purple-900/20;
  }
  
  .customer-theme .btn-ghost:not([data-theme="dark"] *) {
    @apply hover:bg-purple-50;
  }
  
  .btn-icon {
    @apply bg-purple-600 hover:bg-purple-700 p-4 rounded-xl transition-colors duration-200 text-white shadow-md hover:shadow-lg;
  }
  
  /* Card Components - Scoped to customer pages */
  .customer-theme .card {
    @apply rounded-2xl shadow-md hover:shadow-lg transition-all duration-300 border;
    background-color: var(--bg-primary);
    border-color: var(--border-color);
  }
  
  .customer-theme .card-hover {
    @apply rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 border hover:scale-105 cursor-pointer;
    background-color: var(--bg-primary);
    border-color: var(--border-color);
  }
  
  .customer-theme .service-card {
    @apply rounded-2xl shadow-md hover:shadow-lg transition-all duration-300 border p-6;
    background-color: var(--bg-primary);
    border-color: var(--border-color);
  }
  
  /* Input Components - Scoped to customer pages */
  .customer-theme .input-field {
    @apply w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    border-color: var(--border-color);
  }
  
  .customer-theme .input-search {
    @apply w-full pl-12 pr-20 py-4 text-lg border rounded-2xl shadow-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    border-color: var(--border-color);
  }
  
  /* Navigation Components */
  .nav-tab {
    @apply px-6 py-3 rounded-full font-medium transition-all duration-200;
  }
  
  .nav-tab-active {
    @apply nav-tab bg-purple-600 text-white shadow-md;
  }
  
  .nav-tab-inactive {
    @apply nav-tab text-gray-600 hover:text-purple-600 hover:bg-purple-50;
  }
  
  /* Text Components */
  .text-brand {
    @apply text-purple-600;
  }
  
  .text-accent {
    @apply text-secondary-500;
  }
  
  .text-brand-light {
    @apply text-secondary-500;
  }
  
  .heading-primary {
    @apply text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight;
  }
  
  .heading-secondary {
    @apply text-2xl md:text-3xl font-bold text-gray-900;
  }
  
  .heading-tertiary {
    @apply text-xl font-semibold text-gray-900;
  }
  
  /* Background Components */
  .bg-brand {
    @apply bg-purple-600;
  }
  
  .bg-brand-gradient {
    @apply bg-gradient-to-r from-purple-600 to-purple-700;
  }
  
  .bg-brand-gradient-side {
    @apply bg-gradient-to-r from-purple-700 via-purple-600 to-blue-400;
  }
  
  /* Layout Components */
  .container-custom {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }
  
  .section-padding {
    @apply py-16 md:py-24;
  }
  
  /* Animation Components - These are already provided by Tailwind */
  /* Removed circular dependencies - use animate-fade-in and animate-slide-up classes directly */
  
  /* animate-scale-in is already provided by Tailwind config */
  
  /* Status Components */
  .status-success {
    @apply bg-success-50 text-success-700 border border-success-200 px-3 py-1 rounded-full text-sm font-medium;
  }
  
  .status-warning {
    @apply bg-warning-50 text-warning-700 border border-warning-200 px-3 py-1 rounded-full text-sm font-medium;
  }
  
  .status-error {
    @apply bg-error-50 text-error-700 border border-error-200 px-3 py-1 rounded-full text-sm font-medium;
  }
  
  /* Rating Component */
  .rating-badge {
    @apply bg-success-50 text-success-700 px-2 py-1 rounded-lg text-sm font-medium flex items-center space-x-1;
  }
  
  /* Footer Links */
  .footer-link {
    @apply hover:text-secondary-500 transition-colors duration-200;
  }
  
  /* Service Icon */
  .service-icon {
    @apply h-12 w-12 text-purple-600;
  }
  
  .feature-icon {
    @apply h-10 w-10 text-purple-600;
  }

  /* ===== PROSE STYLES FOR DYNAMIC CONTENT ===== */
  .prose {
    @apply text-gray-700 max-w-none;
  }
  
  .prose h1 {
    @apply text-3xl font-bold text-gray-900 mb-6 mt-8;
  }
  
  .prose h2 {
    @apply text-2xl font-semibold text-gray-900 mb-4 mt-6;
  }
  
  .prose h3 {
    @apply text-xl font-semibold text-gray-900 mb-3 mt-5;
  }
  
  .prose h4 {
    @apply text-lg font-medium text-gray-900 mb-2 mt-4;
  }
  
  .prose p {
    @apply mb-4 leading-relaxed;
  }
  
  .prose ul, .prose ol {
    @apply mb-4 pl-6;
  }
  
  .prose li {
    @apply mb-2;
  }
  
  .prose ul li {
    @apply list-disc;
  }
  
  .prose ol li {
    @apply list-decimal;
  }
  
  .prose a {
    @apply text-blue-600 hover:text-blue-800 underline;
  }
  
  .prose blockquote {
    @apply border-l-4 border-gray-300 pl-4 italic text-gray-600 my-4;
  }
  
  .prose code {
    @apply bg-gray-100 text-gray-800 px-2 py-1 rounded text-sm;
  }
  
  .prose pre {
    @apply bg-gray-100 p-4 rounded-lg overflow-x-auto mb-4;
  }
  
  .prose img {
    @apply max-w-full h-auto rounded-lg shadow-md my-4;
  }
  
  .prose table {
    @apply w-full border-collapse border border-gray-300 my-4;
  }
  
  .prose th, .prose td {
    @apply border border-gray-300 px-4 py-2;
  }
  
  .prose th {
    @apply bg-gray-100 font-semibold;
  }
  
  /* Dark mode prose styles */
  .prose-invert {
    @apply text-gray-300;
  }
  
  .prose-invert h1, .prose-invert h2, .prose-invert h3, .prose-invert h4 {
    @apply text-white;
  }
  
  .prose-invert a {
    @apply text-blue-400 hover:text-blue-300;
  }
  
  .prose-invert blockquote {
    @apply border-gray-600 text-gray-400;
  }
  
  .prose-invert code {
    @apply bg-gray-800 text-gray-200;
  }
  
  .prose-invert pre {
    @apply bg-gray-800;
  }
  
  .prose-invert th {
    @apply bg-gray-800;
  }
  
  .prose-invert th, .prose-invert td {
    @apply border-gray-600;
  }
}

/* ===== UTILITY STYLES ===== */
@layer utilities {
  /* Custom utilities for specific use cases */
  .text-shadow {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  
  /* Gradient Utilities */
  .bg-gradient-brand {
    background: var(--gradient-brand);
  }
  
  .bg-gradient-accent {
    background: var(--gradient-accent);
  }
  
  .bg-gradient-hero {
    background: var(--gradient-hero);
  }
  
  .bg-gradient-card {
    background: var(--gradient-card);
  }
  
  /* Theme-aware utilities - Only work within customer-theme context */
  .customer-theme .bg-theme-primary {
    background-color: var(--bg-primary);
  }
  
  .customer-theme .bg-theme-secondary {
    background-color: var(--bg-secondary);
  }
  .text-shadow-lg {
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  }
  
  /* Glassmorphism effect */
  .glass {
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  
  /* Custom focus styles */
  .focus-brand {
    @apply focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:outline-none;
  }
  
  /* Responsive text sizes */
  .text-responsive-xl {
    @apply text-lg md:text-xl lg:text-2xl;
  }
  
  .text-responsive-2xl {
    @apply text-xl md:text-2xl lg:text-3xl;
  }
  
  .text-responsive-3xl {
    @apply text-2xl md:text-3xl lg:text-4xl;
  }
  
  /* Custom spacing */
  .space-y-section {
    @apply space-y-16 md:space-y-24;
  }
  
  /* Progress bar styles */
  .progress-bar {
    @apply h-2 rounded-full transition-all duration-300;
  }
  
  .progress-primary {
    @apply progress-bar bg-primary-500;
  }
  
  .progress-success {
    @apply progress-bar bg-success-500;
  }
  
  .progress-warning {
    @apply progress-bar bg-warning-500;
  }
  
  /* Link hover utilities */
  .link-hover {
    @apply hover:text-accent transition-colors duration-200;
  }
  
  .progress-error {
    @apply progress-bar bg-error-500;
  }
  
  /* Map Marker Styles */
  .custom-marker {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .pickup-marker div {
    @apply bg-blue-500;
  }
  
  .drop-marker div {
    @apply bg-red-500;
  }
}
